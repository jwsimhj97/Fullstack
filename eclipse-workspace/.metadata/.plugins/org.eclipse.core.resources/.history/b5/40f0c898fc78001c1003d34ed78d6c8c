package com.hi;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.util.Scanner;

import oracle.jdbc.driver.OracleDriver;

public class Stu01 {

	public static void main(String[] args) {
		String url=null;
		String sql="select * from stu01 where num order by name asc";	// asc:오름차순 desc:내림차순
		oracle.jdbc.driver.OracleDriver driver;
		
		Connection conn=null;
		java.sql.Statement stmt=null;
		java.sql.ResultSet rs=null;
		
		// 학생성적관리프로그램(ver 0.9.0)
		// 1.보기 2.입력 3.수정 4.삭제 0.종료 >
		Scanner sc=new Scanner(System.in);
		String title="학생성적관리프로그램(ver 0.9.0)";
		String input=null;
		
		System.out.println(title);
		while(true) {
			System.out.print("1.보기 2.입력 3.수정 4.삭제 0.종료 >");
			input=sc.nextLine();
			if(input.equals("0")){
				System.out.println("종료됩니다.");
				break;
			}else if(input.equals("1")){	// 보기
				url="jdbc:oracle:thin:scott/tiger@localhost:1521:xe";
				driver=new oracle.jdbc.driver.OracleDriver();
				
				try {
					java.sql.DriverManager.registerDriver(driver);
					conn=DriverManager.getConnection(url);
					stmt=conn.createStatement();
					rs=stmt.executeQuery(sql);
					
				} catch (SQLException e) {
					e.printStackTrace();
				}finally {
					try {
						if(rs!=null)rs.close();
						if(stmt!=null)stmt.close();
						if(conn!=null)conn.close();
					} catch (SQLException e) {
						e.printStackTrace();
					}
				}
				
			}else if(input.equals("2")){	// 입력
				sql="insert into stu01 (num,name,kor,eng,math) value(";
				
				System.out.print("num >");
				input=sc.nextLine();
				sql=sql+input+",'";
				System.out.print("name >");
				input=sc.nextLine();
				sql=sql+input+"','";
				System.out.print("kor >");
				input=sc.nextLine();
				sql=sql+input+"','";
				System.out.print("eng >");
				input=sc.nextLine();
				sql=sql+input+"','";
				System.out.print("math >");
				input=sc.nextLine();
				sql=sql+input+"')";
				
				driver=new OracleDriver();
				try {
					DriverManager.registerDriver(driver);
					conn=DriverManager.getConnection(url);
					stmt=conn.createStatement();
					rs=stmt.executeQuery(sql);
				} catch (SQLException e) {
					e.printStackTrace();
				}finally {
					try {
						if(rs!=null)rs.close();
						if(stmt!=null)stmt.close();
						if(conn!=null)conn.close();
					} catch (SQLException e) {
						e.printStackTrace();
					}
				}
				
				
			}else if(input.equals("3")){	// 수정
				
			}else if(input.equals("4")){	// 삭제
				
			}
		}
		
		
		
	}

}
